# Nest RS

Projeto NestJS com Prisma ORM e PostgreSQL desenvolvido durante o curso da Rocketseat.

## ğŸš€ Tecnologias

Este projeto foi desenvolvido com as seguintes tecnologias:

- [NestJS](https://nestjs.com/) - Framework Node.js progressivo
- [TypeScript](https://www.typescriptlang.org/) - JavaScript com tipagem estÃ¡tica
- [Prisma](https://www.prisma.io/) - ORM moderno para Node.js e TypeScript
- [PostgreSQL](https://www.postgresql.org/) - Banco de dados relacional
- [Docker](https://www.docker.com/) - ContainerizaÃ§Ã£o

## ğŸ“‹ PrÃ©-requisitos

- Node.js (versÃ£o 18 ou superior)
- Docker e Docker Compose
- npm ou yarn

## ğŸ”§ InstalaÃ§Ã£o

1. Clone o repositÃ³rio:
```bash
git clone <url-do-repositorio>
cd nest-rs
```

2. Instale as dependÃªncias:
```bash
npm install
```

3. Crie o arquivo `.env` na raiz do projeto:
```env
DATABASE_URL="postgresql://nest_rs:nest_rs_password@localhost:5432/nest_rs_db?schema=public"
```

4. Inicie o banco de dados PostgreSQL com Docker:
```bash
docker-compose up -d
```

5. Execute as migrations do Prisma:
```bash
npx prisma migrate dev
```

## ğŸ—„ï¸ Estrutura do Banco de Dados

O projeto possui os seguintes modelos:

### User (UsuÃ¡rio)
- `id` - UUID Ãºnico
- `name` - Nome do usuÃ¡rio
- `email` - Email Ãºnico
- `password` - Senha
- `createdAt` - Data de criaÃ§Ã£o
- `updatedAt` - Data de atualizaÃ§Ã£o

### Question (Pergunta)
- `id` - UUID Ãºnico
- `title` - TÃ­tulo da pergunta
- `slug` - Slug Ãºnico para URL
- `content` - ConteÃºdo da pergunta
- `authorId` - ID do autor (relacionamento com User)
- `createdAt` - Data de criaÃ§Ã£o
- `updatedAt` - Data de atualizaÃ§Ã£o

## ğŸƒ Executando o projeto

```bash
# Desenvolvimento
npm run start

# Modo watch (desenvolvimento)
npm run start:dev

# Modo debug
npm run start:debug

# ProduÃ§Ã£o
npm run start:prod
```

O servidor iniciarÃ¡ na porta `3333` por padrÃ£o.

## ğŸ”¨ Scripts disponÃ­veis

```bash
# Build do projeto
npm run build

# Formatar cÃ³digo
npm run format

# Gerar Prisma Client
npx prisma generate

# Criar nova migration
npx prisma migrate dev --name nome_da_migration

# Abrir Prisma Studio (GUI do banco)
npx prisma studio
```

## ğŸ³ Docker

O projeto utiliza Docker Compose para o PostgreSQL:

```yaml
services:
  postgres:
    container_name: nest-rs-postgres
    image: postgres
    ports:
      - '5432:5432'
    environment:
      POSTGRES_USER: nest_rs
      POSTGRES_PASSWORD: nest_rs_password
      POSTGRES_DB: nest_rs_db
```

Para gerenciar o container:
```bash
# Iniciar
docker-compose up -d

# Parar
docker-compose down

# Ver logs
docker-compose logs -f
```

## ğŸ“ Estrutura de pastas

```
nest-rs/
â”œâ”€â”€ prisma/
â”‚   â”œâ”€â”€ schema.prisma          # Schema do Prisma
â”‚   â””â”€â”€ migrations/            # Migrations do banco
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ prisma/
â”‚   â”‚   â””â”€â”€ prisma.service.ts  # ServiÃ§o do Prisma
â”‚   â”œâ”€â”€ app.module.ts          # MÃ³dulo principal
â”‚   â”œâ”€â”€ app.controller.ts      # Controller principal
â”‚   â”œâ”€â”€ app.service.ts         # Service principal
â”‚   â””â”€â”€ main.ts                # Entry point
â”œâ”€â”€ generated/
â”‚   â””â”€â”€ prisma/                # Cliente Prisma gerado
â”œâ”€â”€ data/
â”‚   â””â”€â”€ pg/                    # Dados do PostgreSQL
â”œâ”€â”€ docker-compose.yml         # ConfiguraÃ§Ã£o Docker
â””â”€â”€ package.json
```

## ğŸ”‘ ConfiguraÃ§Ã£o do Prisma

O Prisma estÃ¡ configurado para:
- Gerar o cliente na pasta `generated/prisma`
- Usar o adaptador PostgreSQL (`@prisma/adapter-pg`)
- Conectar via variÃ¡vel de ambiente `DATABASE_URL`

## ğŸ“ LicenÃ§a

Este projeto estÃ¡ sob a licenÃ§a UNLICENSED.

## ğŸ‘¨â€ğŸ’» Autor

Desenvolvido durante o curso da Rocketseat.

---

âŒ¨ï¸ com â¤ï¸ por [Rocketseat](https://rocketseat.com.br)
